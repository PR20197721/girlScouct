<VirtualHost *:80>
    ServerName stage.girlscouts.org
    DocumentRoot /mnt/var/www/html
    ErrorDocument 404 /content/gsusa/en/404.html

     SSLProxyEngine On
     ProxyRequests Off

    RewriteEngine On
    RewriteLog "logs/rewrite-www-girlscouts-org.log"
    RewriteLogLevel 5

    RewriteCond  %{REQUEST_URI}  !^$
    RewriteCond  %{REQUEST_URI}  !^/
    RewriteRule  .*              -    [R=400,L]

    RewriteRule ^/mycalendar(.*) https://wwwl.girlscouts.org/mycalendar$1 [P,L]
    ProxyPassReverse /mycalendar https://wwwl.girlscouts.org/mycalendar
    RewriteRule ^/gogoldonline(.*) https://wwwl.girlscouts.org/gogoldonline$1 [P,L]
    ProxyPassReverse /gogoldonline https://wwwl.girlscouts.org/gogoldonline
    RewriteRule ^/councilfinder/ajax_results.asp http://wwwl.girlscouts.org/councilfinder/ajax_results.asp [P,L,QSA]
    ProxyPassReverse /councilfinder/ajax_results.asp http://wwwl.girlscouts.org/councilfinder/ajax_results.asp
    RewriteRule ^/zipCouncil/(.*) http://wwwl.girlscouts.org/includes/join/$1 [P,L,QSA]
    RewriteRule ^/espanol(.*) http://wwwl.girlscouts.org/espanol$1 [P,L]
    ProxyPassReverse /espanol http://wwwl.girlscouts.org/espanol
    RewriteRule ^/images/(.*) http://wwwl.girlscouts.org/images/$1 [P,L]
    RewriteRule ^/includes/(.*) http://wwwl.girlscouts.org/includes/$1 [P,L]
    RewriteRule ^/css_corporate.css http://wwwl.girlscouts.org/css_corporate.css [P,L]
    RewriteRule ^/css_corporate_print.css http://wwwl.girlscouts.org/css_corporate_print.css [P,L]
    RewriteRule ^/css_main.css http://wwwl.girlscouts.org/css_main.css [P,L]
    RewriteRule ^/program/gs_cookies$ http://wwwl.girlscouts.org/program/gs_cookies/ [R=301,QSA]
    RewriteRule ^/program/gs_cookies(.*) http://wwwl.girlscouts.org/program/gs_cookies$1 [P,L,QSA]
    ProxyPassReverse /program/gs_cookies http://wwwl.girlscouts.org/program/gs_cookies
    RewriteRule ^/invest/ajax_CouncilFinder.asp http://wwwl.girlscouts.org/invest/ajax_CouncilFinder.asp [P,L]
    ProxyPassReverse /invest/ajax_CouncilFinder.asp http://wwwl.girlscouts.org/invest/ajax_CouncilFinder.asp
    RewriteRule ^/join.asp(.*) http://wwwl.girlscouts.org/join.asp$1 [P,L,QSA]
    ProxyPassReverse /join.asp http://wwwl.girlscouts.org/join.asp
    RewriteRule ^/banbossy(.*) http://wwwl.girlscouts.org/banbossy$1 [P,L,QSA]
    ProxyPassReverse /banbossy http://wwwl.girlscouts.org/banbossy
    RewriteRule ^/convention(.*) http://wwwl.girlscouts.org/convention$1 [P,L,QSA]
    ProxyPassReverse /convention http://wwwl.girlscouts.org/convention
    RewriteRule ^/empgive(.*) http://wwwl.girlscouts.org/empgive$1 [P,L,QSA]
    ProxyPassReverse /empgive http://wwwl.girlscouts.org/empgive
    RewriteRule ^/facebook(.*) http://wwwl.girlscouts.org/facebook$1 [P,L,QSA]
    ProxyPassReverse /facebook http://wwwl.girlscouts.org/facebook
    RewriteRule ^/pearl(.*) http://wwwl.girlscouts.org/pearl$1 [P,L,QSA]
    ProxyPassReverse /pearl http://wwwl.girlscouts.org/pearl
    RewriteRule ^/personifykiosk(.*) http://wwwl.girlscouts.org/personifykiosk$1 [P,L,QSA]
    ProxyPassReverse /personifykiosk http://wwwl.girlscouts.org/personifykiosk
    RewriteRule ^/googlec86c547e07422a7f.html$ http://wwwl.girlscouts.org/googlec86c547e07422a7f.html [P,L]
    ProxyPassReverse /googlec86c547e07422a7f.html http://wwwl.girlscouts.org/googlec86c547e07422a7f.html
    RewriteRule ^/readmove(.*) http://wwwl.girlscouts.org/readmove$1 [P,L,QSA]
    ProxyPassReverse /readmove http://wwwl.girlscouts.org/readmove
    RewriteRule ^/join/whyvolunteer.asp$ http://wwwl.girlscouts.org/join/whyvolunteer.asp [P,L,QSA]
    ProxyPassReverse /join/whyvolunteer.asp http://wwwl.girlscouts.org/join/whyvolunteer.asp
    RewriteRule ^/join/educators/(.*) http://wwwl.girlscouts.org/join/educators/$1 [P,L]
    ProxyPassReverse /join/educators http://wwwl.girlscouts.org/join/educators
    RewriteRule ^/for_adults/alumnae/landing_page/(.*) http://wwwl.girlscouts.org/for_adults/alumnae/landing_page/$1 [P,L]
    ProxyPassReverse /for_adults/alumnae/landing_page http://wwwl.girlscouts.org/for_adults/alumnae/landing_page

    RewriteRule ^/en.html / [R=301,L]
    RewriteRule ^/$ /content/gsusa/en.html [PT]
    
    RewriteCond %{REQUEST_URI} !^/etc(.*) [NC]
    RewriteCond %{REQUEST_URI} !^/libs(.*) [NC]
    RewriteCond %{REQUEST_URI} !^/content(.*) [NC]
    RewriteCond %{REQUEST_URI} !^/system(.*) [NC]
    RewriteCond %{REQUEST_URI} !^/dam(.*) [NC]
    RewriteCond %{REQUEST_URI} !^/services(.*) [NC]
    RewriteRule ^/(.*) /content/gsusa/$1 [PT]

    <Directory "/mnt/var/www/html">
            <IfModule disp_apache2.c>
                    SetHandler dispatcher-handler
                    ModMimeUsePathInfo On
            </IfModule>
            Options FollowSymLinks
            AllowOverride AuthConfig
            Order allow,deny
            Allow from all
    </Directory>
</VirtualHost>
