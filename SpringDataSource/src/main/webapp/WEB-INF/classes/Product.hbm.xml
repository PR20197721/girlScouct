<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC 
    "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
    "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">

<hibernate-mapping package="com.gs.vtk">

    <class name="Product">
        <synchronize table="LineItem"/>
    
        <id name="productId"
            length="10">
            <generator class="assigned"/>
        </id>
        
        <property name="description" 
            not-null="true" 
            length="200"/>
        <property name="price" length="3" column="cost"/>
        <property name="numberAvailable"/>
        
        <property name="numberOrdered"
            formula="( select sum(li.quantity) from LineItem li where li.productId = productId )"/>
    
    </class>

</hibernate-mapping>